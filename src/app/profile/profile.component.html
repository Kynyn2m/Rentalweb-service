<div class="profile-container">
  <div class="profile-header-bar"></div>

  <div class="profile-photo">
    <img [src]="imagePreview || '/assets/img/user.png'"
         alt="User Photo"
         class="user-photo"
         (error)="onImageError($event)">
    <input type="file"
           (change)="onFileSelected($event)"
           hidden
           #fileInput>
    <button mat-icon-button
            color="primary"
            (click)="fileInput.click()"
            class="change-photo-icon">
      <mat-icon>camera_alt</mat-icon>
    </button>
  </div>

  <mat-card>
    <mat-card-content>
      <div class="user-info-grid">
        <!-- ID (readonly) -->
        <mat-form-field appearance="outline"
                        class="full-width">
          <mat-label>ID</mat-label>
          <input matInput
                 [value]="user.id"
                 readonly>
        </mat-form-field>

        <!-- Full Name -->
        <mat-form-field appearance="outline"
                        class="full-width">
          <mat-label>Full Name</mat-label>
          <input matInput
                 [(ngModel)]="user.fullName">
        </mat-form-field>

        <!-- Username -->
        <mat-form-field appearance="outline"
                        class="full-width">
          <mat-label>Username</mat-label>
          <input matInput
                 [(ngModel)]="user.username">
        </mat-form-field>

        <!-- Gender -->
        <mat-form-field appearance="outline"
                        class="full-width">
          <mat-label>Gender</mat-label>
          <mat-select [(ngModel)]="user.gender">
            <mat-option value="male">Male</mat-option>
            <mat-option value="female">Female</mat-option>
            <mat-option value="other">Other</mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Email -->
        <mat-form-field appearance="outline"
                        class="full-width">
          <mat-label>Email</mat-label>
          <input matInput
                 [(ngModel)]="user.email">
        </mat-form-field>
      </div>

      <div class="profile-actions">
        <button mat-raised-button
                color="primary"
                (click)="saveProfile()">Save</button>
        <button mat-raised-button
                color="warn"
                (click)="cancelEdit()">Cancel</button>
      </div>
    </mat-card-content>
  </mat-card>
</div>